#include <cpu.h>
#include <array>
#include <fstream>
std::fstream file;

// add .64bit <%FER1>, <*1($(0), %FER0, $(2)>
constexpr std::array<uint8_t, BIOS_SIZE> BIOS = {
    0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // Add
    0x64, // .64bit

    // <*1($(0), %FER2, $(2)>
    0x03, 0x64,
        0x02, 0x64, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x01, 0x64, 0x02,
        0x02, 0x64, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x01,

    0x02, 0x64, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};

int main()
{
    processor CPU;
    CPU.load_bios(BIOS);
    CPU.start_triggering();
    std::this_thread::sleep_for(std::chrono::hours(1));
    CPU.stop_triggering();
}
